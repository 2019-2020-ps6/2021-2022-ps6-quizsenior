<body>

<ng-container *ngIf="quiz && game">
  <div class="pageQuestion">
    <ng-container *ngIf="!end">
      <div class="titlePsuedo-text">{{questions[0].label}}</div>

      <div class="imagecentree">
        <ng-container *ngIf="questions[0].imageUrl !== 'no image'">
          <img alt="QuestionImage" src="{{questions[0].imageUrl}}">
        </ng-container>
      </div>

      <div class="reponse">
        <ng-container *ngFor="let answer of questions[0].answers">

          <ng-container *ngIf="answer.isCorrect">
            <button
              [ngClass]="answer.isCorrect && answerSelected ? 'button_correct' : 'button3422 button-mat btn--7'"
              (click)="onAnswer(answer, questions[0])">
              <div
                [ngClass]="answer.isCorrect && answerSelected ? 'psuedo-text_correct': 'psuedo-text'">{{answer.value}}</div>
            </button>
          </ng-container>

          <ng-container *ngIf="!answer.isCorrect">
            <button
              [ngClass]="answer.isCorrect && answerSelected ? 'button_correct' : 'button3422 button-mat btn--7'"
              (click)="onAnswer(answer, questions[0])">
              <div
                [ngClass]="answer.isCorrect && answerSelected ? 'psuedo-text_correct': 'psuedo-text'">{{answer.value}}</div>
            </button>
          </ng-container>

        </ng-container>
      </div>
    </ng-container>

    <div *ngIf="!end">
      <ng-container *ngIf="alreadyAnswered(questions[0])">
        <button class="button3422 button-mat btn--7" style="float: right;" (click)="skip(questions[0])">
          <div class="psuedo-text">Question suivante</div>
        </button>
      </ng-container>
    </div>

    <div *ngIf="end">
      <h1 class="titlePsuedo-text">Vous avez terminé le quiz !</h1>
      <h2 class="titlePsuedo-text">Votre score est de {{game.correctAnswers}}/{{quiz.questions.length}}
        <br>{{game.correctAnswers > (quiz.questions.length / 2) ? "Bien joué !!" : ""}}
      </h2>
      <button class="button button-mat btn--7" style="float: left" routerLink="/{{user._id}}/menuALZ/Theme">
        <div class="psuedo-text">Changer de quiz</div>
      </button>
      <button class="button button-mat btn--7" style="float: right" routerLink="/{{user._id}}/menuALZ">
        <div class="psuedo-text">Retour à l'accueil</div>
      </button>
    </div>
  </div>
</ng-container>
</body>
